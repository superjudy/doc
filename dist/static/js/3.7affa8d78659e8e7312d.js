webpackJsonp([3],{"6XbP":function(t,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});c("jIve");var s={name:"cart",data:function(){return{cartMsg:null,proCount:1,isShow:!0,countNumber:0,allChecked:!1,startX:0,endX:0}},created:function(){this.param()},methods:{backLastPage:function(){this.$router.go(-1)},param:function(){this.cartMsg=this.$store.state.goodsCar},changeProNum:function(t){for(var e=0;e<this.cartMsg.length;e++)e==t&&(this.cartMsg[e].isShow=!this.cartMsg[e].isShow)},changeNum:function(t,e){for(var c=0;c<this.cartMsg.length;c++)c==t&&"add"==e?this.cartMsg[c].proCount++:c==t&&"minus"==e&&(this.cartMsg[c].proCount<2?this.cartMsg[c].proCount=1:this.cartMsg[c].proCount--);console.log(this.proCount),this.countNum()},deletePro:function(t){for(var e=0;e<this.cartMsg.length;e++)e==t&&this.cartMsg.splice(t,1)},selectPro:function(t){for(var e=0;e<this.cartMsg.length;e++)e==t&&(this.cartMsg[e].checked=!this.cartMsg[e].checked,this.cartMsg[e].checked||(this.allChecked=!1)),this.countNum()},selectAll:function(){this.allChecked?this.cartMsg.forEach(function(t,e){t.checked=!1}):this.cartMsg.forEach(function(t,e){t.checked=!0}),this.allChecked=!this.allChecked,this.countNum()},countNum:function(){var t=this;this.countNumber=0,this.cartMsg.forEach(function(e,c){t.countNumber+=e.price*e.proCount})},skip:function(){this.checkSlide()&&this.restSlide()},touchStart:function(t){this.startX=t.touches[0].clientX},touchEnd:function(t){var e=t.currentTarget.parentElement;this.endX=t.changedTouches[0].clientX,0==e.dataset.type&&this.startX-this.endX>30&&(this.restSlide(),e.dataset.type=1),1==e.dataset.type&&this.startX-this.endX<-30&&(this.restSlide(),e.dataset.type=0),this.startX=0,this.endX=0},checkSlide:function(){for(var t=document.querySelectorAll(".list-item"),e=0;e<t.length;e++)if(1==t[e].dataset.type)return!0;return!1},restSlide:function(){for(var t=document.querySelectorAll(".list-item"),e=0;e<t.length;e++)t[e].dataset.type=0}},filters:{cartPriceFormat:function(t){return"￥"+t.toFixed(2)}},components:{}},a={render:function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"cart"},[c("div",{staticClass:"cart-bar"},[c("div",{staticClass:"bar-back",on:{click:t.backLastPage}},[c("i",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),c("div",{staticClass:"bar-ipt"},[t._v("购物车")]),t._v(" "),c("div",{staticClass:"bar-quit"})]),t._v(" "),c("div",{staticClass:"cart-bg"},[c("div",{},[t.cartMsg.length?c("ul",t._l(t.cartMsg,function(e,s){return c("li",{key:e.index,staticClass:"list-item",attrs:{"data-type":"0"}},[c("div",{staticClass:"list-box",on:{"!touchstart":function(e){t.touchStart(e)},"!touchend":function(e){t.touchEnd(e)},click:t.skip}},[c("div",{staticClass:"cart-check"},[c("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"v.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{click:function(e){t.selectPro(s)},change:function(c){var s=e.checked,a=c.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(e.checked=s.concat([null])):n>-1&&(e.checked=s.slice(0,n).concat(s.slice(n+1)))}else t.$set(e,"checked",i)}}})]),t._v(" "),c("div",{staticClass:"cart-img"},[c("img",{attrs:{src:e.imgSrc}})]),t._v(" "),c("div",{staticClass:"cart-info"},[c("p",{staticClass:"p-title"},[t._v(t._s(e.title))]),t._v(" "),c("p",{staticClass:"p-info"},[c("span",{staticClass:"sp-price"},[t._v(t._s(t._f("cartPriceFormat")(e.price*e.proCount)))])]),t._v(" "),c("p",[c("span",{staticClass:"sp-spec"},[t._v(t._s(e.ram))]),t._v(" "),c("span",{staticClass:"sp-spec"},[t._v(t._s(e.color))])])]),t._v(" "),e.isShow?c("div",{staticClass:"cart-num",on:{click:function(e){t.changeProNum(s)}}},[t._v("\n                  X\n                  "),c("span",[t._v(t._s(e.proCount))])]):t._e(),t._v(" "),e.isShow?t._e():c("div",{staticClass:"cart-edit"},[c("input",{staticClass:"ipt-ok",attrs:{type:"button",value:"确定"},on:{click:function(e){t.changeProNum(s)}}}),t._v(" "),c("input",{attrs:{type:"button",value:"+"},on:{click:function(e){t.changeNum(s,"add")}}}),t._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:e.proCount,expression:"v.proCount"}],attrs:{type:"text"},domProps:{value:e.proCount},on:{input:function(c){c.target.composing||t.$set(e,"proCount",c.target.value)}}}),t._v(" "),c("input",{attrs:{type:"button",value:"-"},on:{click:function(e){t.changeNum(s,"minus")}}})])]),t._v(" "),c("div",{staticClass:"delete-bck",on:{click:function(e){t.deletePro(s)}}},[t._v("删除")])])})):t._e(),t._v(" "),t.cartMsg.length?t._e():c("ul",[c("li",[t._v("\n          购物车空空如也，赶快买买买~\n        ")])])])]),t._v(" "),c("div",{staticClass:"cart-count"},[c("div",{staticClass:"count-check"},[c("input",{directives:[{name:"model",rawName:"v-model",value:t.allChecked,expression:"allChecked"}],attrs:{type:"checkbox",id:"all"},domProps:{checked:Array.isArray(t.allChecked)?t._i(t.allChecked,null)>-1:t.allChecked},on:{click:function(e){t.selectAll()},change:function(e){var c=t.allChecked,s=e.target,a=!!s.checked;if(Array.isArray(c)){var i=t._i(c,null);s.checked?i<0&&(t.allChecked=c.concat([null])):i>-1&&(t.allChecked=c.slice(0,i).concat(c.slice(i+1)))}else t.allChecked=a}}}),t._v(" "),c("label",{attrs:{for:"all"}},[t._v("全选")])]),t._v(" "),c("div",{staticClass:"count-num"},[t._v("\n      合计:"),c("span",[t._v(t._s(t._f("cartPriceFormat")(t.countNumber)))])])])])},staticRenderFns:[]},i=c("8AGX")(s,a,!1,function(t){c("vcdM")},"data-v-aed4d73a",null);e.default=i.exports},vcdM:function(t,e){}});
//# sourceMappingURL=3.7affa8d78659e8e7312d.js.map